<html>
  <head>
    <style>
      <title>Browser Capability Test</title>

      body { font-family:sans-serif; font-size:24px }
      #main { max-width:768px; margin-left:auto; margin-right:auto }
      #loader.loaded  { display:none  !important }
      #content.loaded { display:block !important }
      table { font-family:monospace; border-collapse:collapse }
      thead { font-weight:bold }
      td { padding:4px; border:solid #ccc 1px }
    </style>
  </head>
  <body>
    <div id="main">
      <h1>WASM Support</h1>
      <div id="loader">
        <h2>Loading...</h2>
      </div>
      <div id="content" style="display:none">
        <h2>Support</h2>
        <table>
          <thead>
            <tr><td>check</td><td>value</td></tr>
          </thead>
          <tbody>
          </tbody>
        </table>
      </div>
    </div>
    <script>
      const tbody = document.querySelector('tbody');
      [
        'WebAssembly',
        'WebGLRenderingContext',
        'WebGL2RenderingContext',
        'WebGLActiveInfo',
        'WebGLBuffer',
        'WebGLContextEvent',
        'WebGLFramebuffer',
        'WebGLProgram',
        'WebGLQuery',
        'WebGLRenderbuffer',
        'WebGLSampler',
        'WebGLShader',
        'WebGLShaderPrecisionFormat',
        'WebGLSync',
        'WebGLTexture',
        'WebGLTransformFeedback',
        'WebGLUniformLocation',

      ].forEach(k => {
        const row = document.createElement('tr');
        const addCell = txt => {
          const cell = document.createElement('td');
          cell.textContent = txt;
          row.appendChild(cell);
        }
        addCell(`typeof window.${k}`);
        addCell(typeof window[k]);
        tbody.appendChild(row);
      });

      ['loader', 'content'].forEach(id => {
        document.getElementById(id).classList.add('loaded');
      });

      function setVal(id, val) {
        document.getElementById(id).textContent = val;
      }
    </script>
  </body>
</html>
